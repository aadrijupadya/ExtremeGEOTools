{"ast":null,"code":"export function usePersistentDraft(storageKey, ttlMs = 7 * 24 * 60 * 60 * 1000) {\n  const loadDraft = () => {\n    try {\n      const raw = localStorage.getItem(storageKey);\n      if (!raw) return null;\n      const parsed = JSON.parse(raw);\n      const savedAt = Number((parsed === null || parsed === void 0 ? void 0 : parsed.savedAt) || 0);\n      if (!savedAt || Date.now() - savedAt > ttlMs) {\n        localStorage.removeItem(storageKey);\n        return null;\n      }\n      return (parsed === null || parsed === void 0 ? void 0 : parsed.data) || null;\n    } catch (_) {\n      return null;\n    }\n  };\n  const saveDraft = data => {\n    try {\n      const payload = {\n        data,\n        savedAt: Date.now()\n      };\n      localStorage.setItem(storageKey, JSON.stringify(payload));\n    } catch (_) {\n      // ignore storage errors\n    }\n  };\n  const clearDraft = () => {\n    try {\n      localStorage.removeItem(storageKey);\n    } catch (_) {\n      // ignore\n    }\n  };\n  return {\n    loadDraft,\n    saveDraft,\n    clearDraft\n  };\n}","map":{"version":3,"names":["usePersistentDraft","storageKey","ttlMs","loadDraft","raw","localStorage","getItem","parsed","JSON","parse","savedAt","Number","Date","now","removeItem","data","_","saveDraft","payload","setItem","stringify","clearDraft"],"sources":["/Users/aadrijupadya/Desktop/ExtremeGEOTools/frontend/src/hooks/usePersistentDraft.js"],"sourcesContent":["export function usePersistentDraft(storageKey, ttlMs = 7 * 24 * 60 * 60 * 1000) {\n  const loadDraft = () => {\n    try {\n      const raw = localStorage.getItem(storageKey);\n      if (!raw) return null;\n      const parsed = JSON.parse(raw);\n      const savedAt = Number(parsed?.savedAt || 0);\n      if (!savedAt || Date.now() - savedAt > ttlMs) {\n        localStorage.removeItem(storageKey);\n        return null;\n      }\n      return parsed?.data || null;\n    } catch (_) {\n      return null;\n    }\n  };\n\n  const saveDraft = (data) => {\n    try {\n      const payload = { data, savedAt: Date.now() };\n      localStorage.setItem(storageKey, JSON.stringify(payload));\n    } catch (_) {\n      // ignore storage errors\n    }\n  };\n\n  const clearDraft = () => {\n    try {\n      localStorage.removeItem(storageKey);\n    } catch (_) {\n      // ignore\n    }\n  };\n\n  return { loadDraft, saveDraft, clearDraft };\n}\n\n\n"],"mappings":"AAAA,OAAO,SAASA,kBAAkBA,CAACC,UAAU,EAAEC,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE;EAC9E,MAAMC,SAAS,GAAGA,CAAA,KAAM;IACtB,IAAI;MACF,MAAMC,GAAG,GAAGC,YAAY,CAACC,OAAO,CAACL,UAAU,CAAC;MAC5C,IAAI,CAACG,GAAG,EAAE,OAAO,IAAI;MACrB,MAAMG,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACL,GAAG,CAAC;MAC9B,MAAMM,OAAO,GAAGC,MAAM,CAAC,CAAAJ,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,OAAO,KAAI,CAAC,CAAC;MAC5C,IAAI,CAACA,OAAO,IAAIE,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGH,OAAO,GAAGR,KAAK,EAAE;QAC5CG,YAAY,CAACS,UAAU,CAACb,UAAU,CAAC;QACnC,OAAO,IAAI;MACb;MACA,OAAO,CAAAM,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEQ,IAAI,KAAI,IAAI;IAC7B,CAAC,CAAC,OAAOC,CAAC,EAAE;MACV,OAAO,IAAI;IACb;EACF,CAAC;EAED,MAAMC,SAAS,GAAIF,IAAI,IAAK;IAC1B,IAAI;MACF,MAAMG,OAAO,GAAG;QAAEH,IAAI;QAAEL,OAAO,EAAEE,IAAI,CAACC,GAAG,CAAC;MAAE,CAAC;MAC7CR,YAAY,CAACc,OAAO,CAAClB,UAAU,EAAEO,IAAI,CAACY,SAAS,CAACF,OAAO,CAAC,CAAC;IAC3D,CAAC,CAAC,OAAOF,CAAC,EAAE;MACV;IAAA;EAEJ,CAAC;EAED,MAAMK,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI;MACFhB,YAAY,CAACS,UAAU,CAACb,UAAU,CAAC;IACrC,CAAC,CAAC,OAAOe,CAAC,EAAE;MACV;IAAA;EAEJ,CAAC;EAED,OAAO;IAAEb,SAAS;IAAEc,SAAS;IAAEI;EAAW,CAAC;AAC7C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}